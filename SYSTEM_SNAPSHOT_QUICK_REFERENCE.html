<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwipeSavvy Quick Reference</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f6f6f6 0%, #f0f0f0 100%);
            color: #132136;
            line-height: 1.6;
        }

        header {
            background: linear-gradient(135deg, #FAB915 0%, #f0a500 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #132136;
        }

        header p {
            color: #132136;
        }

        .nav-link {
            display: inline-block;
            background: rgba(0, 0, 0, 0.2);
            color: #132136;
            padding: 8px 16px;
            border-radius: 6px;
            text-decoration: none;
            margin: 5px;
            font-size: 0.9em;
            transition: background 0.3s;
        }

        .nav-link:hover {
            background: rgba(0, 0, 0, 0.3);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        h2 {
            color: #235393;
            font-size: 1.8em;
            margin-bottom: 20px;
            border-bottom: 3px solid #235393;
            padding-bottom: 15px;
        }

        h3 {
            color: #235393;
            font-size: 1.3em;
            margin: 25px 0 15px 0;
        }

        h4 {
            color: #235393;
            margin: 15px 0 10px 0;
            font-size: 1.1em;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .code-block .key {
            color: #9cdcfe;
        }

        .code-block .string {
            color: #ce9178;
        }

        .code-block .number {
            color: #b5cea8;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th {
            background: #235393;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 12px;
            border-bottom: 1px solid #ddd;
        }

        tr:nth-child(even) {
            background: #f9f9f9;
        }

        .endpoint {
            background: #f0f8ff;
            border-left: 4px solid #235393;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }

        .endpoint .method {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
            margin-right: 10px;
            color: white;
        }

        .endpoint .method.get {
            background: #60BA46;
        }

        .endpoint .method.post {
            background: #235393;
        }

        .endpoint .method.put {
            background: #FAB915;
        }

        .endpoint .method.delete {
            background: #D64545;
        }

        .endpoint .path {
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            font-weight: bold;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 20px;
            background: white;
        }

        .card h4 {
            margin-top: 0;
        }

        ul, ol {
            margin-left: 20px;
            margin-top: 10px;
        }

        li {
            margin: 8px 0;
        }

        footer {
            background: #132136;
            color: white;
            text-align: center;
            padding: 20px;
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }

            .code-block {
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>‚ö° Quick Reference</h1>
        <p>API endpoints, environment setup, and developer commands</p>
        <nav style="margin-top: 20px;">
            <a href="SYSTEM_SNAPSHOT_INDEX.html" class="nav-link">‚Üê Back to Index</a>
            <a href="SYSTEM_SNAPSHOT_TROUBLESHOOTING.html" class="nav-link">‚Üê Troubleshooting</a>
            <a href="SYSTEM_SNAPSHOT_DEPLOYMENT.html" class="nav-link">Deployment ‚Üí</a>
        </nav>
    </header>

    <div class="container">
        <!-- API Endpoints -->
        <section>
            <h2>üîå API Endpoints Reference</h2>

            <h3>Authentication</h3>
            <div class="endpoint">
                <span class="method post">POST</span>
                <div class="path">/auth/login</div>
                <p><strong>Description:</strong> User login with email and password</p>
                <p><strong>Request:</strong></p>
                <div class="code-block">
{
  <span class="key">"email"</span>: <span class="string">"user@example.com"</span>,
  <span class="key">"password"</span>: <span class="string">"password123"</span>
}
                </div>
                <p><strong>Response:</strong> JWT token + user details</p>
            </div>

            <div class="endpoint">
                <span class="method post">POST</span>
                <div class="path">/auth/refresh</div>
                <p><strong>Description:</strong> Refresh expired JWT token</p>
                <p><strong>Required:</strong> Valid refresh token</p>
            </div>

            <h3>Campaign Management</h3>
            <div class="endpoint">
                <span class="method get">GET</span>
                <div class="path">/api/campaigns</div>
                <p><strong>Description:</strong> List all campaigns with pagination</p>
                <p><strong>Query Parameters:</strong> page (default: 1), limit (default: 10), status (optional)</p>
                <p><strong>Response:</strong> Array of campaign objects</p>
            </div>

            <div class="endpoint">
                <span class="method post">POST</span>
                <div class="path">/api/campaigns</div>
                <p><strong>Description:</strong> Create new campaign</p>
                <p><strong>Request Fields:</strong> name, type, target_pattern, content, channels (array)</p>
                <p><strong>Required Role:</strong> admin</p>
            </div>

            <div class="endpoint">
                <span class="method get">GET</span>
                <div class="path">/api/campaigns/{campaign_id}</div>
                <p><strong>Description:</strong> Get single campaign details</p>
            </div>

            <div class="endpoint">
                <span class="method put">PUT</span>
                <div class="path">/api/campaigns/{campaign_id}</div>
                <p><strong>Description:</strong> Update campaign</p>
                <p><strong>Required Role:</strong> admin</p>
            </div>

            <div class="endpoint">
                <span class="method post">POST</span>
                <div class="path">/api/campaigns/{campaign_id}/launch</div>
                <p><strong>Description:</strong> Launch campaign (change status from DRAFT to RUNNING)</p>
                <p><strong>Required Role:</strong> admin</p>
            </div>

            <div class="endpoint">
                <span class="method post">POST</span>
                <div class="path">/api/campaigns/{campaign_id}/pause</div>
                <p><strong>Description:</strong> Pause active campaign</p>
                <p><strong>Required Role:</strong> admin</p>
            </div>

            <h3>Analytics</h3>
            <div class="endpoint">
                <span class="method get">GET</span>
                <div class="path">/api/analytics/campaigns</div>
                <p><strong>Description:</strong> Get campaign performance metrics</p>
                <p><strong>Query Parameters:</strong> campaign_id (optional), date_range (optional)</p>
            </div>

            <div class="endpoint">
                <span class="method get">GET</span>
                <div class="path">/api/analytics/segments</div>
                <p><strong>Description:</strong> Get segment-level analytics</p>
            </div>

            <h3>Rewards</h3>
            <div class="endpoint">
                <span class="method get">GET</span>
                <div class="path">/api/users/{user_id}/rewards</div>
                <p><strong>Description:</strong> Get user rewards summary</p>
                <p><strong>Response:</strong> Points balance, tier, tier progress</p>
            </div>

            <div class="endpoint">
                <span class="method post">POST</span>
                <div class="path">/api/users/{user_id}/rewards/redeem</div>
                <p><strong>Description:</strong> Redeem points</p>
                <p><strong>Request:</strong> points amount, redemption type</p>
            </div>

            <h3>AI Concierge</h3>
            <div class="endpoint">
                <span class="method post">POST</span>
                <div class="path">/concierge/api/v1/chat</div>
                <p><strong>Description:</strong> Send message to AI concierge (streaming)</p>
                <p><strong>Required Header:</strong> Authorization: Bearer {token}</p>
                <p><strong>Request:</strong></p>
                <div class="code-block">
{
  <span class="key">"message"</span>: <span class="string">"What's my account balance?"</span>,
  <span class="key">"user_id"</span>: <span class="string">"user_123"</span>,
  <span class="key">"session_id"</span>: <span class="string">"session_abc"</span>
}
                </div>
                <p><strong>Response:</strong> Server-Sent Events (SSE) streaming response</p>
            </div>

            <h3>Health & Status</h3>
            <div class="endpoint">
                <span class="method get">GET</span>
                <div class="path">/health</div>
                <p><strong>Description:</strong> System health check</p>
                <p><strong>No auth required</strong></p>
                <p><strong>Response:</strong> {"status": "healthy", "timestamp": "..."}</p>
            </div>
        </section>

        <!-- Environment Setup -->
        <section>
            <h2>‚öôÔ∏è Environment Configuration</h2>

            <h3>.env File Template</h3>
            <div class="code-block">
<span class="comment"># Database</span>
DATABASE_URL=postgresql://postgres:password@localhost:5432/swipesavvy
POSTGRES_PASSWORD=password
POSTGRES_USER=postgres

<span class="comment"># Redis</span>
REDIS_URL=redis://localhost:6379/0

<span class="comment"># API Keys & Secrets</span>
JWT_SECRET=your_secret_key_here
JWT_EXPIRY_HOURS=24
TOGETHER_API_KEY=your_together_ai_key

<span class="comment"># Email Service</span>
SENDGRID_API_KEY=your_sendgrid_key
FROM_EMAIL=noreply@swipesavvy.com

<span class="comment"># SMS Service</span>
TWILIO_ACCOUNT_SID=your_account_sid
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890

<span class="comment"># Firebase</span>
FIREBASE_API_KEY=your_firebase_key
FIREBASE_PROJECT_ID=your_project_id

<span class="comment"># Environment</span>
ENVIRONMENT=development
LOG_LEVEL=INFO
DEBUG=false

<span class="comment"># Stripe (Payment)</span>
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
            </div>

            <h3>Environment Variables by Environment</h3>
            <table>
                <tr>
                    <th>Variable</th>
                    <th>Development</th>
                    <th>Staging</th>
                    <th>Production</th>
                </tr>
                <tr>
                    <td><code>ENVIRONMENT</code></td>
                    <td>development</td>
                    <td>staging</td>
                    <td>production</td>
                </tr>
                <tr style="background: #f9f9f9;">
                    <td><code>DEBUG</code></td>
                    <td>true</td>
                    <td>false</td>
                    <td>false</td>
                </tr>
                <tr>
                    <td><code>LOG_LEVEL</code></td>
                    <td>DEBUG</td>
                    <td>INFO</td>
                    <td>WARN</td>
                </tr>
                <tr style="background: #f9f9f9;">
                    <td><code>DATABASE_URL</code></td>
                    <td>localhost:5432</td>
                    <td>staging-rds.aws</td>
                    <td>prod-rds.aws</td>
                </tr>
                <tr>
                    <td><code>JWT_EXPIRY_HOURS</code></td>
                    <td>24</td>
                    <td>24</td>
                    <td>6</td>
                </tr>
            </table>
        </section>

        <!-- Docker Commands -->
        <section>
            <h2>üê≥ Docker Commands</h2>

            <h3>Starting Services</h3>
            <div class="code-block">
<span class="comment"># Start all services</span>
docker-compose up -d

<span class="comment"># Start specific service</span>
docker-compose up -d postgres redis backend

<span class="comment"># View logs</span>
docker-compose logs -f backend

<span class="comment"># Check service status</span>
docker ps
            </div>

            <h3>Database Operations</h3>
            <div class="code-block">
<span class="comment"># Connect to database</span>
docker exec -it ai-marketing-postgres psql -U postgres -d swipesavvy

<span class="comment"># Run SQL file</span>
docker exec -i ai-marketing-postgres psql -U postgres -d swipesavvy &lt; schema.sql

<span class="comment"># Create backup</span>
docker exec ai-marketing-postgres pg_dump -U postgres swipesavvy &gt; backup.sql

<span class="comment"># Restore from backup</span>
docker exec -i ai-marketing-postgres psql -U postgres swipesavvy &lt; backup.sql
            </div>

            <h3>Useful Docker Commands</h3>
            <div class="code-block">
<span class="comment"># Stop all services</span>
docker-compose down

<span class="comment"># Restart service</span>
docker-compose restart backend

<span class="comment"># Remove volumes (CAUTION: deletes data)</span>
docker-compose down -v

<span class="comment"># View resource usage</span>
docker stats
            </div>
        </section>

        <!-- Development Commands -->
        <section>
            <h2>üíª Development Commands</h2>

            <h3>Mobile App</h3>
            <div class="code-block">
<span class="comment"># Start Expo development server</span>
npm start

<span class="comment"># Clear metro cache</span>
npm start -- --clear

<span class="comment"># Run on iOS simulator</span>
npm run ios

<span class="comment"># Run on Android emulator</span>
npm run android

<span class="comment"># Build for production</span>
eas build --platform ios
            </div>

            <h3>Backend API</h3>
            <div class="code-block">
<span class="comment"># Run migrations</span>
cd swipesavvy-ai-agents
alembic upgrade head

<span class="comment"># Create new migration</span>
alembic revision --autogenerate -m "description"

<span class="comment"># Run FastAPI server locally</span>
uvicorn main:app --reload --port 8000

<span class="comment"># Run tests</span>
pytest tests/ -v

<span class="comment"># Test coverage</span>
pytest tests/ --cov
            </div>

            <h3>Admin Portal</h3>
            <div class="code-block">
<span class="comment"># Install dependencies</span>
npm install

<span class="comment"># Start dev server</span>
npm run dev

<span class="comment"># Build for production</span>
npm run build

<span class="comment"># Run linting</span>
npm run lint
            </div>
        </section>

        <!-- Useful Commands -->
        <section>
            <h2>üîß Useful Commands Cheat Sheet</h2>

            <table>
                <tr>
                    <th>Task</th>
                    <th>Command</th>
                </tr>
                <tr>
                    <td>Check if PostgreSQL is running</td>
                    <td><code>docker ps | grep postgres</code></td>
                </tr>
                <tr style="background: #f9f9f9;">
                    <td>Test database connection</td>
                    <td><code>psql -h localhost -U postgres -d swipesavvy</code></td>
                </tr>
                <tr>
                    <td>Check Redis connection</td>
                    <td><code>redis-cli ping</code></td>
                </tr>
                <tr style="background: #f9f9f9;">
                    <td>View backend logs (live)</td>
                    <td><code>docker logs -f swipesavvy-ai-agents</code></td>
                </tr>
                <tr>
                    <td>Clear all Docker volumes</td>
                    <td><code>docker system prune -a --volumes</code></td>
                </tr>
                <tr style="background: #f9f9f9;">
                    <td>Test API endpoint</td>
                    <td><code>curl http://localhost:8000/health</code></td>
                </tr>
                <tr>
                    <td>Kill process on port 8000</td>
                    <td><code>lsof -ti:8000 | xargs kill -9</code></td>
                </tr>
                <tr style="background: #f9f9f9;">
                    <td>Run database migrations</td>
                    <td><code>alembic upgrade head</code></td>
                </tr>
            </table>
        </section>

        <!-- Configuration Files -->
        <section>
            <h2>üìÑ Key Configuration Files</h2>

            <div class="grid">
                <div class="card">
                    <h4>docker-compose.yml</h4>
                    <p>Container orchestration</p>
                    <ul>
                        <li>PostgreSQL</li>
                        <li>Redis</li>
                        <li>FastAPI backend</li>
                        <li>React frontend</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>package.json</h4>
                    <p>Node.js dependencies</p>
                    <ul>
                        <li>React Native (mobile)</li>
                        <li>Next.js (admin portal)</li>
                        <li>Build scripts</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>pyproject.toml</h4>
                    <p>Python dependencies</p>
                    <ul>
                        <li>FastAPI</li>
                        <li>SQLAlchemy</li>
                        <li>Testing frameworks</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>.env.example</h4>
                    <p>Environment variables template</p>
                    <ul>
                        <li>Database config</li>
                        <li>API keys</li>
                        <li>Service URLs</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>tsconfig.json</h4>
                    <p>TypeScript configuration</p>
                    <ul>
                        <li>Compiler options</li>
                        <li>Module resolution</li>
                        <li>Type checking</li>
                    </ul>
                </div>

                <div class="card">
                    <h4>alembic.ini</h4>
                    <p>Database migration config</p>
                    <ul>
                        <li>SQL Alchemy options</li>
                        <li>Script location</li>
                        <li>Version control</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Port Reference -->
        <section>
            <h2>üîå Port Reference</h2>

            <table>
                <tr>
                    <th>Service</th>
                    <th>Port</th>
                    <th>URL</th>
                    <th>Purpose</th>
                </tr>
                <tr>
                    <td>FastAPI Backend</td>
                    <td>8000</td>
                    <td>http://localhost:8000</td>
                    <td>Main API server</td>
                </tr>
                <tr style="background: #f9f9f9;">
                    <td>PostgreSQL</td>
                    <td>5432</td>
                    <td>localhost:5432</td>
                    <td>Database</td>
                </tr>
                <tr>
                    <td>Redis</td>
                    <td>6379</td>
                    <td>localhost:6379</td>
                    <td>Caching/Session store</td>
                </tr>
                <tr style="background: #f9f9f9;">
                    <td>React Dev Server</td>
                    <td>3000</td>
                    <td>http://localhost:3000</td>
                    <td>Admin Portal dev</td>
                </tr>
                <tr>
                    <td>Metro Bundler</td>
                    <td>8081</td>
                    <td>http://localhost:8081</td>
                    <td>Mobile app bundler</td>
                </tr>
                <tr style="background: #f9f9f9;">
                    <td>Postgres Admin (pgAdmin)</td>
                    <td>5050</td>
                    <td>http://localhost:5050</td>
                    <td>Database management UI</td>
                </tr>
            </table>
        </section>
    </div>

    <footer>
        <div style="max-width: 1200px; margin: 0 auto; padding: 20px;">
            <p><strong>SwipeSavvy Quick Reference</strong> | Developer Cheat Sheet</p>
            <p>Version 1.2.0 | Generated: January 2026 | Status: FINALIZED ‚úÖ</p>
            <p style="margin-top: 15px; opacity: 0.85; font-size: 0.95em;">Quick reference guide with API endpoints, environment configuration, Docker commands, development commands, port reference, and configuration files. Essential reference for development and operations teams.</p>
            <p style="margin-top: 15px; opacity: 0.7; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 15px; font-size: 0.9em;">¬© 2026 SwipeSavvy. All Rights Reserved. | <a href="SYSTEM_SNAPSHOT_INDEX.html" style="color: white;">Back to Index</a></p>
        </div>
    </footer>
</body>
</html>
