# SwipeSavvy Production Environment Configuration - AWS Deployment
# ⚠️ CRITICAL: Replace all placeholder values before deploying to production
# ⚠️ Use AWS Secrets Manager or Parameter Store for sensitive values

# ============================================
# APPLICATION ENVIRONMENT
# ============================================
NODE_ENV=production
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================
# AWS RDS POSTGRESQL DATABASE
# ============================================
# Replace with your RDS endpoint after creation
DATABASE_URL=postgresql://swipesavvy_admin:REPLACE_WITH_RDS_PASSWORD@swipesavvy-postgres-prod.XXXXXXXXXX.us-east-1.rds.amazonaws.com:5432/swipesavvy_db

POSTGRES_HOST=swipesavvy-postgres-prod.XXXXXXXXXX.us-east-1.rds.amazonaws.com
POSTGRES_PORT=5432
POSTGRES_DB=swipesavvy_db
POSTGRES_USER=swipesavvy_admin
POSTGRES_PASSWORD=REPLACE_WITH_RDS_PASSWORD

# Database connection pool
DB_POOL_MAX=50
DB_POOL_MIN=10
DB_SSL=true
DB_SSL_REJECT_UNAUTHORIZED=true

# ============================================
# REDIS CACHE (Local on EC2 or ElastiCache)
# ============================================
# For local Redis on EC2
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379

# For AWS ElastiCache (uncomment and configure if using)
# REDIS_URL=rediss://swipesavvy-redis.XXXXXX.cache.amazonaws.com:6379
# REDIS_HOST=swipesavvy-redis.XXXXXX.cache.amazonaws.com
# REDIS_PORT=6379
# REDIS_PASSWORD=REPLACE_IF_AUTH_ENABLED
# REDIS_TLS=true

# ============================================
# API CONFIGURATION
# ============================================
API_BASE_URL=https://api.swipesavvy.com
BACKEND_URL=https://api.swipesavvy.com
BACKEND_PORT=8000

# Frontend URLs
VITE_API_BASE_URL=https://api.swipesavvy.com
VITE_API_TIMEOUT=30000
FRONTEND_URL=https://admin.swipesavvy.com
WALLET_URL=https://wallet.swipesavvy.com

# Mobile app
EXPO_PUBLIC_API_URL=https://api.swipesavvy.com
EXPO_PUBLIC_WS_URL=wss://api.swipesavvy.com/ws

# ============================================
# TOGETHER.AI CONFIGURATION
# ============================================
# Replace with your Together.AI API key from https://api.together.xyz/settings/api-keys
TOGETHER_AI_API_KEY=REPLACE_WITH_YOUR_TOGETHER_AI_API_KEY
TOGETHER_AI_BASE_URL=https://api.together.xyz/v1
TOGETHER_AI_MODEL=meta-llama/Llama-3.3-70b-instruct-turbo

# Additional AI keys for different services
TOGETHER_API_KEY_GENERAL=REPLACE_WITH_YOUR_TOGETHER_AI_API_KEY
TOGETHER_API_KEY_MARKETING=REPLACE_WITH_YOUR_TOGETHER_AI_API_KEY
TOGETHER_API_KEY_CONCIERGE=REPLACE_WITH_YOUR_TOGETHER_AI_API_KEY

# AI Configuration
AI_MAX_TOKENS=2048
AI_TEMPERATURE=0.7
AI_STREAMING=true

# ============================================
# SECURITY & AUTHENTICATION
# ============================================
# Generate strong secrets: openssl rand -base64 64
JWT_SECRET_KEY=REPLACE_WITH_STRONG_SECRET_KEY_MIN_64_CHARS
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

SESSION_SECRET=REPLACE_WITH_STRONG_SECRET_KEY_MIN_64_CHARS
COOKIE_SECRET=REPLACE_WITH_STRONG_SECRET_KEY_MIN_64_CHARS

# CORS Configuration
CORS_ORIGINS=["https://admin.swipesavvy.com","https://wallet.swipesavvy.com","https://app.swipesavvy.com","https://www.swipesavvy.com"]
ALLOWED_HOSTS=["api.swipesavvy.com","admin.swipesavvy.com","wallet.swipesavvy.com"]

# Security Headers
SECURE_SSL_REDIRECT=true
SESSION_COOKIE_SECURE=true
CSRF_COOKIE_SECURE=true
X_FRAME_OPTIONS=DENY
HSTS_SECONDS=31536000

# ============================================
# AWS SERVICES (Optional)
# ============================================
AWS_REGION=us-east-1
AWS_ACCOUNT_ID=REPLACE_WITH_YOUR_AWS_ACCOUNT_ID

# S3 for file uploads (optional)
# AWS_ACCESS_KEY_ID=REPLACE_OR_USE_IAM_ROLE
# AWS_SECRET_ACCESS_KEY=REPLACE_OR_USE_IAM_ROLE
# AWS_S3_BUCKET=swipesavvy-uploads-prod
# AWS_S3_REGION=us-east-1

# SES for email (optional)
# EMAIL_BACKEND=smtp
# EMAIL_FROM=noreply@swipesavvy.com
# EMAIL_HOST=email-smtp.us-east-1.amazonaws.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=true
# EMAIL_USER=REPLACE_WITH_SES_SMTP_USERNAME
# EMAIL_PASSWORD=REPLACE_WITH_SES_SMTP_PASSWORD

# ============================================
# MONITORING & LOGGING
# ============================================
# Sentry Error Tracking (optional but recommended)
# SENTRY_DSN=https://XXXXXXXXXXXXXXXX@sentry.io/XXXXXXX
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.1
# SENTRY_PROFILES_SAMPLE_RATE=0.1

# CloudWatch Logs
ENABLE_CLOUDWATCH_LOGS=true
CLOUDWATCH_LOG_GROUP=/aws/swipesavvy/production

# Application Performance Monitoring
# DATADOG_API_KEY=REPLACE_IF_USING_DATADOG
# DATADOG_SITE=datadoghq.com

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_STRICT_MODE=true

# ============================================
# FEATURE FLAGS
# ============================================
ENABLE_AI_CONCIERGE=true
ENABLE_AI_MARKETING=true
ENABLE_RAG_SERVICE=true
ENABLE_GUARDRAILS=true
ENABLE_SWAGGER_DOCS=false
ENABLE_METRICS=true

# ============================================
# PAYMENT PROCESSING (if applicable)
# ============================================
# STRIPE_SECRET_KEY=sk_live_XXXXXXXXXXXXXXXXXX
# STRIPE_PUBLISHABLE_KEY=pk_live_XXXXXXXXXXXXXXXXXX
# STRIPE_WEBHOOK_SECRET=whsec_XXXXXXXXXXXXXXXXXX

# ============================================
# THIRD-PARTY INTEGRATIONS
# ============================================
# Vector Database for RAG (optional)
# PINECONE_API_KEY=REPLACE_IF_USING_PINECONE
# PINECONE_ENVIRONMENT=us-east-1-aws
# PINECONE_INDEX_NAME=swipesavvy-embeddings-prod

# Analytics (optional)
# GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX
# MIXPANEL_TOKEN=XXXXXXXXXXXXXXXXXX

# ============================================
# PERFORMANCE TUNING
# ============================================
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
MAX_CONNECTIONS=100
CONNECTION_TIMEOUT=30
KEEP_ALIVE_TIMEOUT=65

# Cache TTL (seconds)
CACHE_TTL_DEFAULT=3600
CACHE_TTL_USER=1800
CACHE_TTL_SESSION=7200

# ============================================
# DEPLOYMENT INFO
# ============================================
DEPLOYMENT_VERSION=1.0.0
DEPLOYMENT_TIMESTAMP=2026-01-06
DEPLOYMENT_ENVIRONMENT=aws-production
SERVER_NAME=swipesavvy-prod-01

# ============================================
# HEALTH CHECK & MONITORING
# ============================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30
METRICS_ENABLED=true
METRICS_PORT=9090

# ============================================
# NOTES
# ============================================
# 1. After RDS creation, update POSTGRES_HOST with actual RDS endpoint
# 2. Generate strong JWT_SECRET_KEY: openssl rand -base64 64
# 3. Get Together.AI API key from: https://api.together.xyz/settings/api-keys
# 4. Configure domain DNS to point to EC2 Elastic IP
# 5. Run certbot for SSL: sudo certbot --nginx -d api.swipesavvy.com
# 6. Store sensitive values in AWS Secrets Manager for production
# 7. Never commit this file with real secrets to version control
